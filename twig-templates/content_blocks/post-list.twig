<link rel="stylesheet" href="{{ widget_css }}" type="text/css" media="all">

<section class='cb full-width' style="background-color: {{ block_bg_color }}">
	<div class='ui container'>
		<h2 class="{{ title_underline }}" style="text-align: {{ title_alignment }}">{{ title }}</h2>
    <p class="cb_excerpt" style="text-align: {{ excerpt_alignment }}">{{ excerpt }} </p>
    <div id="{{ selector }}" style="margin-top: 2em; text-align: {{ text_alignment }}">LOADING Component...</div>
    <div class="cb_button" style="text-align: {{ btn_text_alignment }}">
      <a class="ui animated button" href="{{ btn_link }}" {{ btn_new_win }} style="background-color: {{ btn_bg_color }}" tabindex="0">
        <div class="visible content"  style="color: {{ btn_label_color }}"> {{ btn_label }}</div>
        <div class="hidden content">
          <i class="right arrow icon"></i>
        </div>
      </a>
    </div>
  </div>
</section>

<script type="text/javascript" src="{{ widget_js }}"></script>
<script>
  if( CDP ) {  // add try catch here
     CDP.widgets.ArticleFeed.new({
      selector: '#{{ selector }}',
      sites: 'yali.dev.america.gov', 
      size: '{{ cdp_num_posts }}', 
      types: 'post', 
      langs: 'en-US',
      tags: '',
      categories: '{{ cdp_category }}',  
      ui: {
        layout: '{{ cdp_ui_layout }}',
        direction: '{{ cdp_ui_direction }}',
        image: {
          shape: '{{ cdp_image_shape }}',
          width: '{{ cdp_image_height }}',
          borderWidth: '{{ cdp_border_width }}',             
          borderColor: '{{ cdp_border_color }}',
          borderStyle: '{{ cdp_border_style }}'
        }
      }
    }).render();
  }
</script> 